{"version":3,"file":"js/875.bc2692aa.js","mappings":"2IAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,MAAwC,kBAAzBF,EAAII,iBAA+BF,EAAG,MAAM,CAACA,EAAG,KAAK,CAACG,YAAY,aAAaL,EAAIM,GAAIN,EAAII,kBAAkB,SAASG,GAAM,OAAOL,EAAG,KAAK,CAACM,IAAID,GAAM,CAACP,EAAIS,GAAG,IAAIT,EAAIU,GAAGH,GAAM,MAAO,IAAE,KAAsC,kBAAzBP,EAAII,iBAA+BF,EAAG,MAAM,CAACF,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAII,kBAAkB,OAAOF,EAAG,MAAM,CAACF,EAAIS,GAAGT,EAAIU,GAAGV,EAAII,oBACvY,EACGO,EAAkB,GCatB,GACAC,MAAAA,CACAC,SAAAA,CAAAA,GAEAC,QAAAA,CACAV,iBACA,oBACA,uDAEA,ICxBqR,I,UCOjRW,GAAY,OACd,EACAhB,EACAY,GACA,EACA,KACA,KACA,MAIF,EAAeI,EAAiB,O,oEClBhC,IAAIhB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,KAAK,CAACc,WAAW,CAAC,CAACC,KAAK,IAAIC,QAAQ,MAAMC,MAAO,mBAAoBC,WAAW,uBAAuBf,YAAY,eAAeH,EAAG,MAAM,CAACG,YAAY,aAAa,CAAGL,EAAIqB,OAAOC,MAAMC,KAAw1BvB,EAAIwB,KAAt1BtB,EAAG,MAAM,CAACG,YAAY,OAAO,CAACH,EAAG,MAAM,CAACG,YAAY,QAAQ,CAAEL,EAAIyB,UAAUC,OAAS,EAAGxB,EAAG,cAAc,CAACyB,MAAM,CAAC,GAAK3B,EAAI4B,gBAAgB,YAAY,CAAC1B,EAAG,MAAM,CAACG,YAAY,WAAWsB,MAAM,CAAC,IAAM,+BAA+B,IAAM,uBAAuB3B,EAAIwB,KAAKtB,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,KAAK,CAACc,WAAW,CAAC,CAACC,KAAK,IAAIC,QAAQ,MAAMC,MAAO,mBAAoBC,WAAW,4BAA4B,GAAGlB,EAAG,MAAM,CAACG,YAAY,QAAQ,CAAEL,EAAIyB,UAAUC,OAAS,EAAGxB,EAAG,cAAc,CAACyB,MAAM,CAAC,GAAK3B,EAAI4B,gBAAgB,uBAAuB,CAAC1B,EAAG,MAAM,CAACG,YAAY,WAAWsB,MAAM,CAAC,IAAM,0CAA0C,IAAM,6BAA6B3B,EAAIwB,KAAKtB,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,KAAK,CAACc,WAAW,CAAC,CAACC,KAAK,IAAIC,QAAQ,MAAMC,MAAO,8BAA+BC,WAAW,uCAAuC,KAAclB,EAAG,MAAM,CAACG,YAAY,OAAO,CAACH,EAAG,UAAU,CAAC2B,YAAY,CAAC,MAAQ,QAAQF,MAAM,CAAC,QAAU,SAAS,YAAc,IAAIG,MAAM,CAACX,MAAOnB,EAAI+B,UAAWC,SAAS,SAAUC,GAAMjC,EAAI+B,UAAUE,CAAI,EAACb,WAAW,cAAc,CAACpB,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAIkC,OAAO,OAAOhC,EAAG,MAAM,CAACG,YAAY,aAAaL,EAAIM,GAAIN,EAAImC,eAAe,SAAStB,GAAU,OAAOX,EAAG,MAAM,CAACM,IAAIK,EAASuB,YAAY/B,YAAY,mBAAmB,CAACH,EAAG,MAAM,CAACG,YAAY,qBAAqBgC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtC,EAAIuC,SAASC,KAAM,YAAW3B,EAASuB,cAAe,IAAG,CAAClC,EAAG,MAAM,CAACA,EAAG,MAAM,CAACG,YAAY,gBAAgBsB,MAAM,CAAC,IAAO,qBAAoBd,EAAS4B,oBAAoB,IAAM5B,EAAS4B,mBAAmBvC,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,MAAM,CAACG,YAAY,uBAAuB,CAACL,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAI0C,GAAI,aAAY7B,EAAS4B,kBAAkB,OAAOvC,EAAG,MAAM,CAACG,YAAY,cAAc,CAACL,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAI0C,GAAI,kBAAiB7B,EAAS8B,kBAAkB,OAAOzC,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,OAAO,CAACG,YAAY,kBAAkB,CAAEQ,EAAS+B,WAAa,EAAG,CAAC5C,EAAIS,GAAG,IAAIT,EAAIU,GAAGG,EAAS+B,WAAWC,kBAAkB,IAAI7C,EAAIU,GAAGV,EAAI0C,GAAG,iBAAiB,MAAM,CAAC1C,EAAIS,GAAG,IAAIT,EAAIU,GAAGG,EAASiC,aAAa,SAAS5C,EAAG,UAAU,CAAC6C,IAAK,YAAWlC,EAASuB,cAAcY,UAAS,EAAKrB,MAAM,CAAC,GAAM,YAAWd,EAASuB,cAAc,SAAW,GAAG,cAAc,GAAG,cAAc,KAAK,CAAClC,EAAG,IAAI,CAACG,YAAY,kBAAkB,CAACL,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAI0C,GAAI,aAAY7B,EAAS4B,kBAAkB,OAAOvC,EAAG,MAAM,CAACG,YAAY,+BAA+B,CAACL,EAAIS,GAAG,IAAIT,EAAIU,GAAGV,EAAI0C,GAAI,kBAAiB7B,EAAS8B,kBAAkB,OAAOzC,EAAG,IAAI,CAACG,YAAY,eAAe,CAAEQ,EAAS+B,WAAa,EAAG,CAAC5C,EAAIS,GAAG,IAAIT,EAAIU,GAAGG,EAAS+B,YAAY,IAAI5C,EAAIU,GAAGV,EAAI0C,GAAG,iBAAiB,MAAM,CAAC1C,EAAIS,GAAG,IAAIT,EAAIU,GAAGG,EAASiC,aAAa,GAAG5C,EAAG,MAAM,CAACA,EAAG,aAAa,CAACG,YAAY,gBAAgBsB,MAAM,CAAC,IAAM3B,EAAIiD,iBAAiBpC,GAAU,IAAMA,EAAS4B,kBAAkB,GAAGvC,EAAG,sBAAsB,CAACG,YAAY,OAAOsB,MAAM,CAAC,SAAWd,KAAab,EAAIkD,SAAUhD,EAAG,MAAM,CAACG,YAAY,mCAAmC,CAACH,EAAG,WAAW,CAACG,YAAY,OAAOsB,MAAM,CAAC,QAAU,aAAaU,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtC,EAAImD,UAAUtC,EAASuB,YAAa,IAAG,CAACpC,EAAIS,GAAGT,EAAIU,GAAGV,EAAI0C,GAAG,qBAAsB7B,EAASiC,SAAW,EAAG5C,EAAG,WAAW,CAACG,YAAY,OAAOsB,MAAM,CAAC,QAAU,UAAU,GAAK3B,EAAI4B,gBAAgBf,EAAS4B,iBAAiB,CAACzC,EAAIS,GAAGT,EAAIU,GAAGV,EAAI0C,GAAG,iBAAiBxC,EAAG,WAAW,CAACc,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,mCAAmCkC,UAAU,CAAC,0BAAyB,KAAQ/C,YAAY,OAAOsB,MAAM,CAAC,SAAW3B,EAAIqD,MAAQxC,EAAS+B,WAAW,QAAU,WAAWP,GAAG,CAAC,MAAQ,SAASC,GAAQtC,EAAIsD,gBAAkBzC,CAAS,IAAG,CAACb,EAAIS,GAAGT,EAAIU,GAAGV,EAAI0C,GAAG,kBAAkB,GAAGxC,EAAG,MAAM,CAACG,YAAY,sCAAsC,CAACH,EAAG,gBAAgB,IAAI,IAAI,EAAG,IAAE,IAAI,KAAKA,EAAG,kBAAkB,CAACyB,MAAM,CAAC,SAAW3B,EAAIsD,iBAAiBjB,GAAG,CAAC,IAAMrC,EAAIuD,QAAQ,OAASvD,EAAImD,cAAc,EAC1hI,EACGxC,EAAkB,GCFlBZ,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAAC6C,IAAI,yBAAyBpB,MAAM,CAAC,GAAK,yBAAyB,SAAW,GAAG,cAAc,GAAG,cAAc,KAAK,CAAC3B,EAAIS,GAAG,mCAAmCP,EAAG,MAAM,CAACG,YAAY,mCAAmC,CAACH,EAAG,WAAW,CAACG,YAAY,OAAOsB,MAAM,CAAC,QAAU,aAAaU,GAAG,CAAC,MAAQrC,EAAIwD,SAAS,CAACxD,EAAIS,GAAG,YAAYP,EAAG,WAAW,CAACG,YAAY,OAAOsB,MAAM,CAAC,QAAU,WAAWU,GAAG,CAAC,MAAQrC,EAAIyD,MAAM,CAACzD,EAAIS,GAAG,cAAc,IAChgB,EACGE,EAAkB,GCiBtB,GACAC,MAAAA,CACAC,SAAAA,CAAAA,GAEAC,QAAAA,CACA2C,MACA,mDACA,oBACA,0CACA,CACAC,MAAAA,eACAC,QAAAA,wBACAC,OAAAA,EACAC,aAAAA,IAIA,4CACA,+BACA,EACAL,SACA,4CACA,8CACA,IC1C0R,I,UCOtRzC,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAeA,EAAiB,Q,oBCuIhC,GACA+C,WAAAA,CACAC,YADA,IAEAC,gBAFA,EAGAC,oBAAAA,EAAAA,GAGAC,KAAAA,KAAAA,CACAhC,MAAAA,GACAH,WAAAA,EACAoC,SAAAA,EACAC,SAAAA,EACAd,gBAAAA,CAAAA,EACA7B,UAAAA,GACAU,cAAAA,GACAkC,eAAAA,CACA,eACAC,MAAAA,KAIAC,SAAAA,CACArB,WACA,mCACA,EACAsB,UACA,yCACA,EACAnB,QACA,mCACA,GAGAoB,UAEA,+BACA,6BACAC,MAAAA,gBAAAA,KAAAA,qBACAC,MAAAC,GAAAA,EAAAA,SACAD,MAAAlD,IACA,yBAEAoD,OAAAC,IACA,kBACA,gBAIAJ,MAAAA,kBACAC,MAAAC,GAAAA,EAAAA,SACAD,MAAAlD,IACA,iBACA,qBACAsD,QAAAlE,IACA,eACA,UACA,WACA,yCACA,YACA,0CACA,SACA,wCACA,WACA,yCACA,WACA,yCACA,QACA,SAZA,IAeAkE,QACAlE,GAAAA,EAAAA,WAAAA,GAAAA,EAAAA,SAAAA,IAEAmE,MAAA,QAEA,gDACA,0CACA,SACA,WAEA,mCACA,6BACA,aACA,eACA,cACA,mBAEA,wBAnCA,IAsCAH,OAAAC,IACA,aACA,oBAEA,EAEAhE,QAAAA,CACAqC,UAAAA,GACA,qCACA,EACAvB,gBAAAA,GACA,6BACAqD,GAAAA,EAAAA,gBAAAA,IAEA,qCACA,UACA,EACA1B,QAAAA,GACA,kBAAAnB,EAAAA,WAAAQ,GAAA,EACA,kBAGA,eAIA,iBACA,gBAEA8B,MAAAA,gBAAAA,KAAAA,oBAAAA,IAAAA,CACAQ,OAAAA,SAEAP,MAAAC,GAAAA,EAAAA,SACAD,MAAAC,IACA,gBACAO,SAAAA,gBAAAA,UAAAA,EACA,SACA,mBACA,oBAEA,gBACA,sCACA,IAEAN,OAAAC,IACA,aACA,gBACA,kBACAK,SAAAA,gBAAAA,UAAAA,CAAAA,IAEA,EACAlC,iBAAAA,GACA,oBAAAR,GAAA,EACA,kCACA,ICzSuQ,ICQnQ,GAAY,OACd,EACA1C,EACAY,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,O","sources":["webpack://client/./src/components/pages/cosmetics/CosmeticDescription.vue","webpack://client/src/components/pages/cosmetics/CosmeticDescription.vue","webpack://client/./src/components/pages/cosmetics/CosmeticDescription.vue?252a","webpack://client/./src/components/pages/cosmetics/CosmeticDescription.vue?7df0","webpack://client/./src/components/pages/store/Store.vue","webpack://client/./src/components/pages/store/components/ConfirmPurchase.vue","webpack://client/src/components/pages/store/components/ConfirmPurchase.vue","webpack://client/./src/components/pages/store/components/ConfirmPurchase.vue?94e4","webpack://client/./src/components/pages/store/components/ConfirmPurchase.vue?4a35","webpack://client/src/components/pages/store/Store.vue","webpack://client/./src/components/pages/store/Store.vue?1188","webpack://client/./src/components/pages/store/Store.vue?c2ec"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (typeof _vm.getDescription() === 'object')?_c('div',[_c('ul',{staticClass:\"text-left\"},_vm._l((_vm.getDescription()),function(line){return _c('li',{key:line},[_vm._v(\" \"+_vm._s(line)+\" \")])}),0)]):(typeof _vm.getDescription() === 'string')?_c('div',[_vm._v(\" \"+_vm._s(_vm.getDescription())+\" \")]):_c('div',[_vm._v(_vm._s(_vm.getDescription()))])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div v-if=\"typeof getDescription() === 'object'\">\n    <ul class=\"text-left\">\n      <li v-for=\"line in getDescription()\" :key=\"line\">\n        {{ line }}\n      </li>\n    </ul>\n  </div>\n  <div v-else-if=\"typeof getDescription() === 'string'\">\n    {{ getDescription() }}\n  </div>\n  <div v-else>{{ getDescription() }}</div>\n</template>\n\n<script>\nexport default {\n  props: {\n    cosmetic: {},\n  },\n  methods: {\n    getDescription() {\n      return this.$i18n.t(\n        `cosmetic_descriptions.${this.cosmetic.cosmetic_name}`\n      );\n    },\n  },\n};\n</script>\n\n<style>\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CosmeticDescription.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CosmeticDescription.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CosmeticDescription.vue?vue&type=template&id=ea415aa6&\"\nimport script from \"./CosmeticDescription.vue?vue&type=script&lang=js&\"\nexport * from \"./CosmeticDescription.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',{directives:[{name:\"t\",rawName:\"v-t\",value:('store.page_title'),expression:\"'store.page_title'\"}],staticClass:\"page-title\"}),_c('div',{staticClass:\"container\"},[(!_vm.$route.query.type)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"sale\"},[(_vm.cosmetics.length > 0)?_c('router-link',{attrs:{\"to\":_vm.getCheckoutLink('buy_bp')}},[_c('img',{staticClass:\"promoted\",attrs:{\"src\":\"/images/cosmetics/buy_bp.png\",\"alt\":\"Buy Battle Pass\"}})]):_vm._e(),_c('div',{staticClass:\"overlay\"},[_c('h3',{directives:[{name:\"t\",rawName:\"v-t\",value:('cosmetics.buy_bp'),expression:\"'cosmetics.buy_bp'\"}]})])],1),_c('div',{staticClass:\"sale\"},[(_vm.cosmetics.length > 0)?_c('router-link',{attrs:{\"to\":_vm.getCheckoutLink('plus_year_package')}},[_c('img',{staticClass:\"promoted\",attrs:{\"src\":\"/images/cosmetics/plus_year_package.png\",\"alt\":\"Buy Plus Year Package\"}})]):_vm._e(),_c('div',{staticClass:\"overlay\"},[_c('h3',{directives:[{name:\"t\",rawName:\"v-t\",value:('cosmetics.plus_year_package'),expression:\"'cosmetics.plus_year_package'\"}]})])],1)]):_vm._e(),_c('div',{staticClass:\"row\"},[_c('b-alert',{staticStyle:{\"width\":\"100%\"},attrs:{\"variant\":\"danger\",\"dismissible\":\"\"},model:{value:(_vm.showError),callback:function ($$v) {_vm.showError=$$v},expression:\"showError\"}},[_vm._v(\" \"+_vm._s(_vm.error)+\" \")]),_c('div',{staticClass:\"cosmetics\"},_vm._l((_vm.shopCosmetics),function(cosmetic){return _c('div',{key:cosmetic.cosmetic_id,staticClass:\"cosmetics__item\"},[_c('div',{staticClass:\"cosmetic shop-item\",on:{\"click\":function($event){return _vm.$bvModal.show(`bp-modal-${cosmetic.cosmetic_id}`)}}},[_c('div',[_c('img',{staticClass:\"preview-image\",attrs:{\"src\":`/images/cosmetics/${cosmetic.cosmetic_name}.png`,\"alt\":cosmetic.cosmetic_name}})]),_c('div',{staticClass:\"cosmetic__descr\"},[_c('div',{staticClass:\"cosmetic__name mb-1\"},[_vm._v(\" \"+_vm._s(_vm.$t(`cosmetics.${cosmetic.cosmetic_name}`))+\" \")]),_c('div',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(_vm.$t(`cosmetic_types.${cosmetic.cosmetic_type}`))+\" \")]),_c('div',{staticClass:\"cosmetic__price\"},[_c('span',{staticClass:\"cosmetic-price\"},[(cosmetic.cost_coins > 0)?[_vm._v(\" \"+_vm._s(cosmetic.cost_coins.toLocaleString())+\" \"+_vm._s(_vm.$t(\"common.coins\"))+\" \")]:[_vm._v(\"$\"+_vm._s(cosmetic.cost_usd))]],2)])])]),_c('b-modal',{ref:`bp-modal-${cosmetic.cosmetic_id}`,refInFor:true,attrs:{\"id\":`bp-modal-${cosmetic.cosmetic_id}`,\"centered\":\"\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[_c('p',{staticClass:\"text-center h4\"},[_vm._v(\" \"+_vm._s(_vm.$t(`cosmetics.${cosmetic.cosmetic_name}`))+\" \")]),_c('div',{staticClass:\"text-center text-muted mb-3\"},[_vm._v(\" \"+_vm._s(_vm.$t(`cosmetic_types.${cosmetic.cosmetic_type}`))+\" \")]),_c('p',{staticClass:\"text-center\"},[(cosmetic.cost_coins > 0)?[_vm._v(\" \"+_vm._s(cosmetic.cost_coins)+\" \"+_vm._s(_vm.$t(\"common.coins\"))+\" \")]:[_vm._v(\"$\"+_vm._s(cosmetic.cost_usd))]],2),_c('div',[_c('b-img-lazy',{staticClass:\"preview-image\",attrs:{\"src\":_vm.cosmeticImageSrc(cosmetic),\"alt\":cosmetic.cosmetic_name}})],1),_c('CosmeticDescription',{staticClass:\"mt-4\",attrs:{\"cosmetic\":cosmetic}}),(_vm.loggedIn)?_c('div',{staticClass:\"mt-4 d-flex justify-content-end\"},[_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"secondary\"},on:{\"click\":function($event){return _vm.hideModal(cosmetic.cosmetic_id)}}},[_vm._v(_vm._s(_vm.$t(\"armory.cancel\")))]),(cosmetic.cost_usd > 0)?_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"primary\",\"to\":_vm.getCheckoutLink(cosmetic.cosmetic_name)}},[_vm._v(_vm._s(_vm.$t(\"store.buy\")))]):_c('b-button',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.modal-confirm-purchase\",modifiers:{\"modal-confirm-purchase\":true}}],staticClass:\"mr-2\",attrs:{\"disabled\":_vm.coins < cosmetic.cost_coins,\"variant\":\"primary\"},on:{\"click\":function($event){_vm.currentCosmetic = cosmetic}}},[_vm._v(_vm._s(_vm.$t(\"store.buy\")))])],1):_c('div',{staticClass:\"mt-4 d-flex justify-content-center\"},[_c('LoginButton')],1)],1)],1)}),0)],1)]),_c('ConfirmPurchase',{attrs:{\"cosmetic\":_vm.currentCosmetic},on:{\"buy\":_vm.buyItem,\"cancel\":_vm.hideModal}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-modal',{ref:\"modal-confirm-purchase\",attrs:{\"id\":\"modal-confirm-purchase\",\"centered\":\"\",\"hide-header\":\"\",\"hide-footer\":\"\"}},[_vm._v(\" Do you want to buy this item? \"),_c('div',{staticClass:\"mt-4 d-flex justify-content-end\"},[_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"secondary\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")]),_c('b-button',{staticClass:\"mr-2\",attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.buy}},[_vm._v(\"Confirm\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <b-modal\n    id=\"modal-confirm-purchase\"\n    ref=\"modal-confirm-purchase\"\n    centered\n    hide-header\n    hide-footer\n  >\n    Do you want to buy this item?\n    <div class=\"mt-4 d-flex justify-content-end\">\n      <b-button class=\"mr-2\" variant=\"secondary\" @click=\"cancel\"\n        >Cancel</b-button\n      >\n      <b-button class=\"mr-2\" variant=\"primary\" @click=\"buy\">Confirm</b-button>\n    </div>\n  </b-modal>\n</template>\n\n<script>\nexport default {\n  props: {\n    cosmetic: {},\n  },\n  methods: {\n    buy() {\n      const translationString = `cosmetics.${this.cosmetic.cosmetic_name}`;\n      this.$bvToast.toast(\n        `Added ${this.$i18n.t(translationString)} to your armory`,\n        {\n          title: `Notification`,\n          toaster: \"b-toaster-bottom-left\",\n          solid: true,\n          appendToast: true,\n        }\n      );\n\n      this.$refs[\"modal-confirm-purchase\"].hide();\n      this.$emit(\"buy\", this.cosmetic);\n    },\n    cancel() {\n      this.$refs[\"modal-confirm-purchase\"].hide();\n      this.$emit(\"cancel\", this.cosmetic.cosmetic_id);\n    },\n  },\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ConfirmPurchase.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ConfirmPurchase.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmPurchase.vue?vue&type=template&id=68a22f5a&\"\nimport script from \"./ConfirmPurchase.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmPurchase.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h1 class=\"page-title\" v-t=\"'store.page_title'\"></h1>\n    <div class=\"container\">\n      <div class=\"row\" v-if=\"!$route.query.type\">\n        <div class=\"sale\">\n          <router-link\n            v-if=\"cosmetics.length > 0\"\n            :to=\"getCheckoutLink('buy_bp')\"\n          >\n            <img\n              src=\"/images/cosmetics/buy_bp.png\"\n              alt=\"Buy Battle Pass\"\n              class=\"promoted\"\n            />\n          </router-link>\n          <div class=\"overlay\">\n            <h3 v-t=\"'cosmetics.buy_bp'\"></h3>\n          </div>\n        </div>\n        <div class=\"sale\">\n          <router-link\n            v-if=\"cosmetics.length > 0\"\n            :to=\"getCheckoutLink('plus_year_package')\"\n          >\n            <img\n              src=\"/images/cosmetics/plus_year_package.png\"\n              alt=\"Buy Plus Year Package\"\n              class=\"promoted\"\n            />\n          </router-link>\n          <div class=\"overlay\">\n            <h3 v-t=\"'cosmetics.plus_year_package'\"></h3>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <b-alert\n          v-model=\"showError\"\n          style=\"width: 100%\"\n          variant=\"danger\"\n          dismissible\n        >\n          {{ error }}\n        </b-alert>\n\n        <div class=\"cosmetics\">\n          <div\n            class=\"cosmetics__item\"\n            v-for=\"cosmetic in shopCosmetics\"\n            :key=\"cosmetic.cosmetic_id\"\n          >\n            <div\n              class=\"cosmetic shop-item\"\n              @click=\"$bvModal.show(`bp-modal-${cosmetic.cosmetic_id}`)\"\n            >\n              <div>\n                <img\n                  :src=\"`/images/cosmetics/${cosmetic.cosmetic_name}.png`\"\n                  :alt=\"cosmetic.cosmetic_name\"\n                  class=\"preview-image\"\n                />\n              </div>\n              <div class=\"cosmetic__descr\">\n                <div class=\"cosmetic__name mb-1\">\n                  {{ $t(`cosmetics.${cosmetic.cosmetic_name}`) }}\n                </div>\n                <div class=\"text-muted\">\n                  {{ $t(`cosmetic_types.${cosmetic.cosmetic_type}`) }}\n                </div>\n                <div class=\"cosmetic__price\">\n                  <span class=\"cosmetic-price\">\n                    <template v-if=\"cosmetic.cost_coins > 0\">\n                      {{ cosmetic.cost_coins.toLocaleString() }}\n                      {{ $t(\"common.coins\") }}\n                    </template>\n                    <template v-else>${{ cosmetic.cost_usd }}</template>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <b-modal\n              :id=\"`bp-modal-${cosmetic.cosmetic_id}`\"\n              :ref=\"`bp-modal-${cosmetic.cosmetic_id}`\"\n              centered\n              hide-header\n              hide-footer\n            >\n              <p class=\"text-center h4\">\n                {{ $t(`cosmetics.${cosmetic.cosmetic_name}`) }}\n              </p>\n              <div class=\"text-center text-muted mb-3\">\n                {{ $t(`cosmetic_types.${cosmetic.cosmetic_type}`) }}\n              </div>\n              <p class=\"text-center\">\n                <template v-if=\"cosmetic.cost_coins > 0\">\n                  {{ cosmetic.cost_coins }} {{ $t(\"common.coins\") }}\n                </template>\n                <template v-else>${{ cosmetic.cost_usd }}</template>\n              </p>\n              <div>\n                <b-img-lazy\n                  class=\"preview-image\"\n                  v-bind:src=\"cosmeticImageSrc(cosmetic)\"\n                  :alt=\"cosmetic.cosmetic_name\"\n                />\n              </div>\n              <CosmeticDescription :cosmetic=\"cosmetic\" class=\"mt-4\" />\n              <div v-if=\"loggedIn\" class=\"mt-4 d-flex justify-content-end\">\n                <b-button\n                  class=\"mr-2\"\n                  variant=\"secondary\"\n                  @click=\"hideModal(cosmetic.cosmetic_id)\"\n                  >{{ $t(\"armory.cancel\") }}</b-button\n                >\n                <b-button\n                  v-if=\"cosmetic.cost_usd > 0\"\n                  class=\"mr-2\"\n                  variant=\"primary\"\n                  :to=\"getCheckoutLink(cosmetic.cosmetic_name)\"\n                  >{{ $t(\"store.buy\") }}</b-button\n                >\n                <b-button\n                  v-else\n                  :disabled=\"coins < cosmetic.cost_coins\"\n                  class=\"mr-2\"\n                  variant=\"primary\"\n                  v-b-modal.modal-confirm-purchase\n                  @click=\"currentCosmetic = cosmetic\"\n                  >{{ $t(\"store.buy\") }}</b-button\n                >\n              </div>\n              <div v-else class=\"mt-4 d-flex justify-content-center\">\n                <LoginButton />\n              </div>\n            </b-modal>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ConfirmPurchase\n      :cosmetic=\"currentCosmetic\"\n      v-on:buy=\"buyItem\"\n      v-on:cancel=\"hideModal\"\n    />\n  </div>\n</template>\n\n<script>\nimport ConfirmPurchase from \"./components/ConfirmPurchase.vue\";\nimport CosmeticDescription from \"../cosmetics/CosmeticDescription.vue\";\nimport LoginButton from \"../../utility/LoginButton.vue\";\n\nexport default {\n  components: {\n    LoginButton,\n    ConfirmPurchase,\n    CosmeticDescription,\n  },\n\n  data: () => ({\n    error: \"\",\n    showError: false,\n    success: false,\n    loading: false,\n    currentCosmetic: {},\n    cosmetics: [],\n    shopCosmetics: [],\n    sortPriorities: {\n      \"Card Frame\": 1,\n      Chest: 2,\n    },\n  }),\n\n  computed: {\n    loggedIn() {\n      return this.$store.getters.loggedIn;\n    },\n    steamID() {\n      return this.$store.state.auth.userSteamID;\n    },\n    coins() {\n      return this.$store.state.auth.coins;\n    },\n  },\n\n  created() {\n    // get query params\n    const itemType = this.$route.query.type;\n    if (this.loggedIn && this.steamID) {\n      fetch(`/api/players/${this.steamID}/cosmetics`)\n        .then((res) => res.json())\n        .then((cosmetics) => {\n          this.ownedCosmetics = cosmetics;\n        })\n        .catch((err) => {\n          this.showError = true;\n          this.error = err;\n        });\n    }\n\n    fetch(`/api/cosmetics`)\n      .then((res) => res.json())\n      .then((cosmetics) => {\n        this.cosmetics = cosmetics;\n        this.shopCosmetics = cosmetics\n          .filter((cosmetic) => {\n            if (!itemType) return true;\n            switch (itemType) {\n              case \"gold\":\n                return cosmetic.cosmetic_name.includes(\"gold_\");\n              case \"chest\":\n                return cosmetic.cosmetic_name.includes(\"chest_\");\n              case \"xp\":\n                return cosmetic.cosmetic_name.includes(\"_xp_\");\n              case \"plus\":\n                return cosmetic.cosmetic_name.includes(\"plus_\");\n              case \"gods\":\n                return cosmetic.cosmetic_name.includes(\"card_\");\n              default:\n                return true;\n            }\n          })\n          .filter(\n            (cosmetic) => cosmetic.cost_coins > 0 || cosmetic.cost_usd > 0\n          )\n          .sort((c1, c2) => {\n            // order as battlepass, plus, gods, chests\n            const c1Type = this.sortPriorities[c1.cosmetic_type] || 3;\n            const c2Type = this.sortPriorities[c2.cosmetic_type] || 3;\n            if (c1Type !== c2Type) {\n              return c1Type - c2Type;\n            }\n            const c1Start = c1.cosmetic_name.slice(0, 5);\n            const c2Start = c2.cosmetic_name.slice(0, 5);\n            if (c1Start !== c2Start) {\n              if (c1Start === \"chest\") return -1;\n              if (c2Start === \"chest\") return 1;\n              return c1Start.localeCompare(c2Start);\n            }\n            return c1.cost_usd - c2.cost_usd;\n          });\n      })\n      .catch((err) => {\n        this.error = err;\n        this.showError = true;\n      });\n  },\n\n  methods: {\n    hideModal(cosmeticID) {\n      this.$refs[`bp-modal-${cosmeticID}`][0].hide();\n    },\n    getCheckoutLink(cosmeticName) {\n      const cosmetic = this.cosmetics.find(\n        (c) => c.cosmetic_name === cosmeticName\n      );\n      if (cosmetic) return `checkout/${cosmetic.cosmetic_id}`;\n      return \"checkout\";\n    },\n    buyItem(cosmetic) {\n      const { cosmetic_id, cost_coins } = cosmetic;\n      this.hideModal(cosmetic_id);\n\n      // We can't afford this item\n      if (this.coins < cost_coins) {\n        return;\n      }\n\n      this.selected = [];\n      this.loading = true;\n\n      fetch(`/api/players/${this.steamID}/buy_item/${cosmetic_id}`, {\n        method: \"post\",\n      })\n        .then((res) => res.json())\n        .then((res) => {\n          this.loading = false;\n          document.documentElement.scrollTop = 0;\n          if (res.error) {\n            this.error = res.error;\n            this.showError = true;\n          } else {\n            this.success = true;\n            this.$store.dispatch(\"REFRESH_COINS\");\n          }\n        })\n        .catch((err) => {\n          this.error = err;\n          this.loading = false;\n          this.showError = true;\n          document.documentElement.scrollTop = 0;\n        });\n    },\n    cosmeticImageSrc(cosmetic) {\n      const { cosmetic_name } = cosmetic;\n      return `/images/cosmetics/${cosmetic_name}.png`;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.shop-item {\n  cursor: pointer;\n}\n\n.promoted {\n  width: auto;\n  height: 300px;\n}\n\n.preview-image {\n  width: 200px;\n  height: 200px;\n  display: block;\n  margin: auto;\n}\n\n.featured {\n  position: relative;\n  /* margin-top: 50px; */\n  text-align: center;\n  margin-bottom: 120px;\n  box-shadow: 0 0 15px 0 #724596;\n  width: 200px;\n}\n\n.sale {\n  position: relative;\n}\n\n.featured h3,\n.sale h3 {\n  font-size: 20px;\n  font-family: \"Radiance-Semibold\";\n  line-height: 1.2;\n  letter-spacing: 0.23px;\n  text-align: center;\n  color: #fcfcfc;\n  position: relative;\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n.featured p,\n.sale p {\n  font-size: 18px;\n  font-family: \"Radiance-Semibold\";\n  line-height: 1;\n  letter-spacing: 0.45px;\n  text-align: center;\n  color: var(--primary-color);\n}\n\n.featured img,\n.sale img {\n  position: relative;\n  transition: 0.25s ease-in-out;\n  width: 100%;\n\n  cursor: pointer;\n}\n\n.sales-overlay {\n  position: absolute !important;\n  bottom: 0;\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n\n.overlay {\n  height: 60px;\n  opacity: 0.8;\n  padding: 0.2em 1em 1em;\n  background-color: #000000;\n}\n\n.sale {\n  text-align: center;\n  margin: 0 auto 40px;\n  box-shadow: 0 0 15px 0 #784596;\n\n  width: 300px;\n}\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Store.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Store.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Store.vue?vue&type=template&id=22f11bfe&scoped=true&\"\nimport script from \"./Store.vue?vue&type=script&lang=js&\"\nexport * from \"./Store.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Store.vue?vue&type=style&index=0&id=22f11bfe&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22f11bfe\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","getDescription","staticClass","_l","line","key","_v","_s","staticRenderFns","props","cosmetic","methods","component","directives","name","rawName","value","expression","$route","query","type","_e","cosmetics","length","attrs","getCheckoutLink","staticStyle","model","showError","callback","$$v","error","shopCosmetics","cosmetic_id","on","$event","$bvModal","show","cosmetic_name","$t","cosmetic_type","cost_coins","toLocaleString","cost_usd","ref","refInFor","cosmeticImageSrc","loggedIn","hideModal","modifiers","coins","currentCosmetic","buyItem","cancel","buy","title","toaster","solid","appendToast","components","LoginButton","ConfirmPurchase","CosmeticDescription","data","success","loading","sortPriorities","Chest","computed","steamID","created","fetch","then","res","catch","err","filter","sort","c","method","document"],"sourceRoot":""}