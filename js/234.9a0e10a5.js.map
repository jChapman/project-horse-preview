{"version":3,"file":"js/234.9a0e10a5.js","mappings":"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","sources":["webpack://client/./src/components/pages/profile/Achievements.vue","webpack://client/src/components/pages/profile/Achievements.vue","webpack://client/./src/components/pages/profile/Achievements.vue?f974","webpack://client/./src/components/pages/profile/Achievements.vue?b156"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',{directives:[{name:\"t\",rawName:\"v-t\",value:('achievements.page_title'),expression:\"'achievements.page_title'\"}],staticClass:\"page-title\"}),_c('div',[(_vm.error != '')?_c('b-alert',{attrs:{\"show\":\"\",\"variant\":\"danger\",\"dismissible\":\"\"}},[_vm._v(_vm._s(_vm.error))]):_vm._e(),(_vm.loading)?_c('div',{staticClass:\"d-flex justify-content-center mb-3\"},[_c('b-spinner',{attrs:{\"label\":\"Loading...\"}})],1):_vm._e(),_vm._l((_vm.achievements),function(quest){return _c('div',{key:quest.quest_id,staticClass:\"row\"},[_c('div',{staticClass:\"col-xl-12\"},[_c('div',{staticClass:\"achievement\"},[_c('div',{staticClass:\"achievement-row\"},[_c('div',{staticClass:\"description\"},[_vm._l((quest.questTier),function(i){return _c('i',{key:i,staticClass:\"fas fa-star mb-2\"})}),_c('h3',[_vm._v(_vm._s(quest.quest_name))]),_c('p',{staticClass:\"achievement-description\"},[_vm._v(\" \"+_vm._s(quest.quest_description)+\" \")])],2),_c('div',{staticClass:\"rewards\"},[(quest.coin_reward > 0)?_c('p',{staticClass:\"pog-text\"},[_vm._v(\" \"+_vm._s(quest.coin_reward)+\" GOLD \")]):_vm._e(),_c('p',{staticClass:\"quest-xp-text\"},[_vm._v(_vm._s(quest.xp_reward)+\" XP\")])])]),_c('ProgressBar',{attrs:{\"progress\":quest.capped_quest_progress,\"required\":quest.required_amount}}),(quest.quest_completed && !quest.claimed)?_c('button',{staticClass:\"btn btn-primary mt-3\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.claimQuest(quest)}}},[_vm._v(\" \"+_vm._s(_vm.$t(\"common.claim\"))+\" \")]):_vm._e()],1)])])})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1 class=\"page-title\" v-t=\"'achievements.page_title'\"></h1>\n    <div>\n      <b-alert v-if=\"error != ''\" show variant=\"danger\" dismissible>{{\n        error\n      }}</b-alert>\n      <div v-if=\"loading\" class=\"d-flex justify-content-center mb-3\">\n        <b-spinner label=\"Loading...\"></b-spinner>\n      </div>\n      <div class=\"row\" v-for=\"quest in achievements\" :key=\"quest.quest_id\">\n        <div class=\"col-xl-12\">\n          <div class=\"achievement\">\n            <div class=\"achievement-row\">\n              <div class=\"description\">\n                <i\n                  v-for=\"i in quest.questTier\"\n                  :key=\"i\"\n                  class=\"fas fa-star mb-2\"\n                ></i>\n                <h3>{{ quest.quest_name }}</h3>\n                <p class=\"achievement-description\">\n                  {{ quest.quest_description }}\n                </p>\n              </div>\n              <div class=\"rewards\">\n                <p v-if=\"quest.coin_reward > 0\" class=\"pog-text\">\n                  {{ quest.coin_reward }} GOLD\n                </p>\n                <p class=\"quest-xp-text\">{{ quest.xp_reward }} XP</p>\n              </div>\n            </div>\n            <ProgressBar\n              :progress=\"quest.capped_quest_progress\"\n              :required=\"quest.required_amount\"\n            />\n            <button\n              v-on:click=\"claimQuest(quest)\"\n              v-if=\"quest.quest_completed && !quest.claimed\"\n              type=\"button\"\n              class=\"btn btn-primary mt-3\"\n            >\n              {{ $t(\"common.claim\") }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ProgressBar from \"../../utility/ProgressBar\";\n\nexport default {\n  data: () => ({\n    error: \"\",\n    achievements: [],\n    loading: true,\n  }),\n\n  components: {\n    ProgressBar,\n  },\n\n  created() {\n    this.getAchievements();\n  },\n\n  methods: {\n    getProgressPercent(quest) {\n      const progress = quest.capped_quest_progress;\n      const required = quest.required_amount;\n\n      const percent = Math.min((progress * 100) / required, 100);\n      return percent;\n    },\n    getAchievements() {\n      fetch(`/api/players/${this.$store.state.auth.userSteamID}/achievements`)\n        .then((res) => res.json())\n        .then((quests) => {\n          this.loading = false;\n          this.achievements = quests;\n        });\n    },\n    claimQuest(quest) {\n      const { quest_id } = quest;\n      // show the quest as claimed in the ui\n      this.achievements = this.achievements.map((achievement) =>\n        achievement.quest_id === quest_id\n          ? { ...achievement, claimed: true }\n          : achievement\n      );\n      fetch(\n        `/api/players/${this.$store.state.auth.userSteamID}/achievements/claim?questID=${quest_id}`,\n        { method: \"post\" }\n      )\n        .then((res) => {\n          if (!res.ok) throw Error(res.statusText);\n          return res;\n        })\n        .then((res) => res.json())\n        .then((res) => {\n          if (res.success) {\n            this.getAchievements();\n            this.$store.dispatch(\"REFRESH_BATTLE_PASS\");\n            this.$store.dispatch(\"REFRESH_PLAYER\");\n          }\n        })\n        .catch((err) => {\n          this.error = err;\n          window.scroll({\n            top: 0,\n            left: 0,\n            behavior: \"smooth\",\n          });\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.achievement {\n  position: relative;\n  margin: 0.75em auto;\n  padding: 2em 4em;\n  border: solid 1.1px #403652;\n  /* border: solid 1px #202e3a;\n    background-color: #172126; */\n  background-color: #2d223b;\n}\n\n.achievement h3 {\n  font-family: \"Radiance-Semibold\";\n  font-weight: 800;\n  font-size: 22px;\n  letter-spacing: 0.5px;\n  color: #fcfcfc;\n  text-transform: uppercase;\n}\n\n.achievement-description {\n  font-size: 18px;\n  color: #fcfcfc;\n}\n\n.achievement-row {\n  display: flex;\n}\n\n.description {\n  width: 75%;\n}\n\n.rewards {\n  width: 25%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Achievements.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Achievements.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Achievements.vue?vue&type=template&id=a6759056&scoped=true&\"\nimport script from \"./Achievements.vue?vue&type=script&lang=js&\"\nexport * from \"./Achievements.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Achievements.vue?vue&type=style&index=0&id=a6759056&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6759056\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","expression","staticClass","error","attrs","_v","_s","_e","loading","_l","achievements","quest","key","quest_id","questTier","i","quest_name","quest_description","coin_reward","xp_reward","capped_quest_progress","required_amount","quest_completed","claimed","on","$event","claimQuest","$t","staticRenderFns","data","components","ProgressBar","created","methods","getProgressPercent","getAchievements","fetch","then","res","quests","achievement","method","catch","err","window","top","left","behavior","component"],"sourceRoot":""}