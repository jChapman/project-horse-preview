"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[446],{4446:function(t,s,e){e.r(s),e.d(s,{default:function(){return u}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"main-layout__content"},[s("div",{staticClass:"content"},[s("h1",{directives:[{name:"t",rawName:"v-t",value:"store.alipay_title",expression:"'store.alipay_title'"}],staticClass:"page-title"}),s("div",{staticClass:"container text-center"},["failed"===t.status?s("div",[s("div",[t._v(t._s(t.$t("store.payment_issue")))]),s("b-button",{staticClass:"mt-3",attrs:{to:"store",variant:"primary"}},[t._v(t._s(t.$t("store.back_to_store")))])],1):"consumed"!==t.status?s("div",[t._v(" "+t._s(t.$t("store.waiting_for_process"))+" ")]):s("div",[s("div",[t._v(" "+t._s(t.$t("store.payment_success"))+" "+t._s(t.$t(`cosmetics.${t.item.cosmetic_name}`))+" "+t._s(t.$t("store.added_to_account"))+" ")]),s("b-button",{staticClass:"mt-3",attrs:{to:"store",variant:"primary"}},[t._v(t._s(t.$t("store.back_to_store")))])],1)])])])},r=[],o={props:{source:String,livemode:String,clientSecret:String,itemID:String},data:()=>({error:"",showError:!1,item:{},MAX_POLL_COUNT:10,pollCount:0,status:"",keys:{dev:"pk_test_kG4TReBTkO6yDfO9mMwtShME00mx65Yyw2",prod:"pk_live_FlJcVm7zuiGei0k6IDXksnmy003GNNZuiw"}}),created(){const t=!1,s=t?this.keys.dev:this.keys.prod;this.stripe=window.Stripe(s),this.pollForSourceStatus()},methods:{pollForSourceStatus(){this.stripe.retrieveSource({id:this.source,client_secret:this.clientSecret}).then((t=>{const s=t.source;this.status=s.status,("chargeable"===s.status||"pending"===s.status)&&this.pollCount<this.MAX_POLL_COUNT?(this.pollCount+=1,setTimeout(this.pollForSourceStatus,1e3)):"consumed"===s.status?this.$store.dispatch("REFRESH_PLAYER"):this.status="failed"}))}}},a=o,n=e(1001),c=(0,n.Z)(a,i,r,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=446.83bb12d6.js.map